---
layout: post
title: Sharding(샤딩)에 대하여
category: Database
tags: [DB, 샤딩, Scaling, High Availability]
comments: true
---

# Sharding

- [Intro](#Intro)
  Intro
  샤딩이란 무엇인가
  장점
  단점
  샤딩 아키텍쳐
  Key Based Sharding
  Range Based Sharding
  Directory Based Sharding
  샤딩을 이용하기 전에
  결론

정리

- [References](#reference)

## Sharding Architectures

### Key Based Sharding

Hash based sharding 이라고도 부르며 해시함수를 이용한 방법이다. 새로 쓰여진 데이터 - 유저 ID, 유저 IP 주소, 이메일 등 - 를 해시 함수에 넣고 그 결과값인 해시값(Shard ID)을 기준으로 어느 샤드에 넣을지 결정하게 된다.

#### 장점

데이터를 고르게 분산시켜 hotspots(데이터가 한 쪽에 몰리는 현상)을 방지할 수 있고, 알고리즘적으로 데이터를 분배하기 때문에 range와 directory와 달리 데이터가 어디에 위치해있는지 알려주는 map이 필요 없다.

#### 단점

Key based sharding은 많이 쓰이는 구조이긴하나, 노드 개수를 동적으로 늘리거나 줄이고자 한다면 일이 까다로워진다. 새 노드를 추가할 경우, 기존에 있던 Hash Key에 따라 분배도
